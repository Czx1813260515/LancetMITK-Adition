<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>SystemAlert.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
//----------------------------------------------------------------------------
//
//  Copyright (C) 2017, Northern Digital Inc. All rights reserved.
//
//  All Northern Digital Inc. ("NDI") Media and/or Sample Code and/or Sample Code
//  Documentation (collectively referred to as "Sample Code") is licensed and provided "as
//  is" without warranty of any kind. The licensee, by use of the Sample Code, warrants to
//  NDI that the Sample Code is fit for the use and purpose for which the licensee intends to
//  use the Sample Code. NDI makes no warranties, express or implied, that the functions
//  contained in the Sample Code will meet the licensee's requirements or that the operation
//  of the programs contained therein will be error free. This warranty as expressed herein is
//  exclusive and NDI expressly disclaims any and all express and/or implied, in fact or in
//  law, warranties, representations, and conditions of every kind pertaining in any way to
//  the Sample Code licensed and provided by NDI hereunder, including without limitation,
//  each warranty and/or condition of quality, merchantability, description, operation,
//  adequacy, suitability, fitness for particular purpose, title, interference with use or
//  enjoyment, and/or non infringement, whether express or implied by statute, common law,
//  usage of trade, course of dealing, custom, or otherwise. No NDI dealer, distributor, agent
//  or employee is authorized to make any modification or addition to this warranty.
//  In no event shall NDI nor any of its employees be liable for any direct, indirect,
//  incidental, special, exemplary, or consequential damages, sundry damages or any
//  damages whatsoever, including, but not limited to, procurement of substitute goods or
//  services, loss of use, data or profits, or business interruption, however caused. In no
//  event shall NDI's liability to the licensee exceed the amount paid by the licensee for the
//  Sample Code or any NDI products that accompany the Sample Code. The said limitations
//  and exclusions of liability shall apply whether or not any such damages are construed as
//  arising from a breach of a representation, warranty, guarantee, covenant, obligation,
//  condition or fundamental term or on any theory of liability, whether in contract, strict
//  liability, or tort (including negligence or otherwise) arising in any way out of the use of
//  the Sample Code even if advised of the possibility of such damage. In no event shall
//  NDI be liable for any claims, losses, damages, judgments, costs, awards, expenses or
//  liabilities of any kind whatsoever arising directly or indirectly from any injury to person
//  or property, arising from the Sample Code or any use thereof
//
//----------------------------------------------------------------------------

#include &lt;iomanip&gt;
#include &lt;sstream&gt;

#include "SystemAlert.h"

std::string SystemAlert::toString() const
<span style = "background-color:#fdd">{</span>
	// Lookup the appropriate toString() method based on its type
<span style = "background-color:#fdd">	switch (conditionType)</span>
	{
	case SystemAlertType::Fault:
<span style = "background-color:#fdd">		return std::string("Fault::").append(SystemFaultEnum::toString(conditionCode));</span>
	case SystemAlertType::Alert:
<span style = "background-color:#fdd">		return std::string("Alert::").append(SystemAlertEnum::toString(conditionCode));</span>
	case SystemAlertType::Event:
<span style = "background-color:#fdd">		return std::string("Event::").append(SystemEventEnum::toString(conditionCode));</span>
	default:
		break; // do nothing
	};

	// Print the unrecognized alert types in hex
<span style = "background-color:#fdd">	std::stringstream stream;
	stream &lt;&lt; std::hex &lt;&lt; std::setfill('0');
	stream &lt;&lt; "UnrecognizedAlertType: " &lt;&lt; std::setw(4) &lt;&lt; conditionType;
	return stream.str();
}</span>

std::string SystemFaultEnum::toString(uint16_t conditionCode)
<span style = "background-color:#fdd">{
	switch (conditionCode)</span>
	{
	case SystemFaultEnum::Ok:
<span style = "background-color:#fdd">		return "Ok";</span>
	case SystemFaultEnum::FatalParameter:
<span style = "background-color:#fdd">		return "FatalParameter";</span>
	case SystemFaultEnum::SensorParameter:
<span style = "background-color:#fdd">		return "SensorParameter";</span>
	case SystemFaultEnum::MainVoltage:
<span style = "background-color:#fdd">		return "MainVoltage";</span>
	case SystemFaultEnum::SensorVoltage:
<span style = "background-color:#fdd">		return "SensorVoltage";</span>
	case SystemFaultEnum::IlluminatorCurrent:
<span style = "background-color:#fdd">		return "IlluminatorCurrent";</span>
	case SystemFaultEnum::IlluminatorVoltage:
<span style = "background-color:#fdd">		return "IlluminatorVoltage";</span>
	case SystemFaultEnum::Sensor0Temp:
<span style = "background-color:#fdd">		return "Sensor0Temp";</span>
	case SystemFaultEnum::Sensor1Temp:
<span style = "background-color:#fdd">		return "Sensor1Temp";</span>
	case SystemFaultEnum::MainTemp:
<span style = "background-color:#fdd">		return "MainTemp";</span>
	case SystemFaultEnum::SensorMalfunction:
<span style = "background-color:#fdd">		return "SensorMalfunction";</span>
	default:
		break; // do nothing
	};

	// Print the unrecognized fault types in hex
<span style = "background-color:#fdd">	std::stringstream stream;
	stream &lt;&lt; std::hex &lt;&lt; std::setfill('0');
	stream &lt;&lt; "UnrecognizedFault: " &lt;&lt; std::setw(4) &lt;&lt; conditionCode;
	return stream.str();
}</span>

std::string SystemAlertEnum::toString(uint16_t conditionCode)
<span style = "background-color:#fdd">{
	switch (conditionCode)</span>
	{
	case SystemAlertEnum::Ok:
<span style = "background-color:#fdd">		return "Ok";</span>
	case SystemAlertEnum::BatteryLow:
<span style = "background-color:#fdd">		return "BatteryLow";</span>
	case SystemAlertEnum::BumpDetected:
<span style = "background-color:#fdd">		return "BumpDetected";</span>
	case SystemAlertEnum::IncompatibleFirmware:
<span style = "background-color:#fdd">		return "IncompatibleFirmware";</span>
	case SystemAlertEnum::NonFatalParameter:
<span style = "background-color:#fdd">		return "NonFatalParameter";</span>
	case SystemAlertEnum::FlashMemoryFull:
<span style = "background-color:#fdd">		return "FlashMemoryFull";</span>
	case SystemAlertEnum::StorageTempExceeded:
<span style = "background-color:#fdd">		return "StorageTempExceeded";</span>
	case SystemAlertEnum::TempHigh:
<span style = "background-color:#fdd">		return "TempHigh";</span>
	case SystemAlertEnum::TempLow:
<span style = "background-color:#fdd">		return "TempLow";</span>
	case SystemAlertEnum::ScuDisconnected:
<span style = "background-color:#fdd">		return "ScuDisconnected";</span>
	case SystemAlertEnum::PtpClockSynch:
<span style = "background-color:#fdd">		return "PtpClockSynch";</span>
	default:
		break;
	};

	// Print the unrecognized alert types in hex
<span style = "background-color:#fdd">	std::stringstream stream;
	stream &lt;&lt; std::hex &lt;&lt; std::setfill('0');
	stream &lt;&lt; "UnrecognizedAlert: " &lt;&lt; std::setw(4) &lt;&lt; conditionCode;
	return stream.str();
}</span>

std::string SystemEventEnum::toString(uint16_t conditionCode)
<span style = "background-color:#fdd">{
	switch (conditionCode)</span>
	{
	case SystemEventEnum::Ok:
<span style = "background-color:#fdd">		return "Ok";</span>
	case SystemEventEnum::ToolPluggedIn:
<span style = "background-color:#fdd">		return "ToolPluggedIn";</span>
	case SystemEventEnum::ToolUnplugged:
<span style = "background-color:#fdd">		return "ToolUnplugged";</span>
	case SystemEventEnum::SiuPluggedIn:
<span style = "background-color:#fdd">		return "SiuPluggedIn";</span>
	case SystemEventEnum::SiuUnplugged:
<span style = "background-color:#fdd">		return "SiuUnplugged";</span>
	default:
<span style = "background-color:#fdd">		return "UnrecognizedEvent";</span>
	};

	// Print the unrecognized event types in hex
<span style = "background-color:#fdd">	std::stringstream stream;
	stream &lt;&lt; std::hex &lt;&lt; std::setfill('0');
	stream &lt;&lt; "UnrecognizedEvent: " &lt;&lt; std::setw(4) &lt;&lt; conditionCode;
	return stream.str();
}</span></pre>
	</body>
</html>