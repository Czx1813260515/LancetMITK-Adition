<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkVtkAnnotation.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkVtkAnnotation.h"
#include &lt;vtkProp.h&gt;
#include &lt;vtkProperty.h&gt;

mitk::VtkAnnotation::VtkAnnotation()
<span style = "background-color:#fdd">{
}</span>

mitk::VtkAnnotation::~VtkAnnotation()
<span style = "background-color:#fdd">{
}</span>

void mitk::VtkAnnotation::Update(mitk::BaseRenderer *renderer)
<span style = "background-color:#fdd">{
  vtkSmartPointer&lt;vtkProp&gt; prop = GetVtkProp(renderer);
  if (!IsVisible())</span>
  {
<span style = "background-color:#fdd">    prop-&gt;SetVisibility(false);
    return;
  }</span>
  else
  {
<span style = "background-color:#fdd">    prop-&gt;SetVisibility(true);
    UpdateVtkAnnotation(renderer);</span>
  }
<span style = "background-color:#fdd">}</span>

void mitk::VtkAnnotation::AddToBaseRenderer(mitk::BaseRenderer *renderer)
<span style = "background-color:#fdd">{
  if (!renderer)
    return;
  AddToRenderer(renderer, renderer-&gt;GetVtkRenderer());
}</span>

void mitk::VtkAnnotation::AddToRenderer(mitk::BaseRenderer *renderer, vtkRenderer *vtkrenderer)
<span style = "background-color:#fdd">{
  if (!renderer || !vtkrenderer)
    return;
  Update(renderer);
  vtkSmartPointer&lt;vtkProp&gt; vtkProp = GetVtkProp(renderer);
  if (renderer &amp;&amp; vtkrenderer &amp;&amp; !vtkrenderer-&gt;HasViewProp(vtkProp))</span>
  {
<span style = "background-color:#fdd">    vtkrenderer-&gt;AddViewProp(vtkProp);
    mitk::RenderingManager::GetInstance()-&gt;RequestUpdate(vtkrenderer-&gt;GetRenderWindow());</span>
  }
<span style = "background-color:#fdd">}</span>

void mitk::VtkAnnotation::RemoveFromBaseRenderer(mitk::BaseRenderer *renderer)
<span style = "background-color:#fdd">{
  if (!renderer)
    return;
  RemoveFromRenderer(renderer, renderer-&gt;GetVtkRenderer());
}</span>

void mitk::VtkAnnotation::RemoveFromRenderer(mitk::BaseRenderer *renderer, vtkRenderer *vtkrenderer)
<span style = "background-color:#fdd">{
  if (!renderer || !vtkrenderer)
    return;
  vtkSmartPointer&lt;vtkProp&gt; vtkProp = GetVtkProp(renderer);
  if (vtkrenderer-&gt;HasViewProp(vtkProp))</span>
  {
<span style = "background-color:#fdd">    vtkrenderer-&gt;RemoveViewProp(vtkProp);
    mitk::RenderingManager::GetInstance()-&gt;RequestUpdate(vtkrenderer-&gt;GetRenderWindow());</span>
  }
<span style = "background-color:#fdd">}</span>

void mitk::VtkAnnotation::Paint(BaseRenderer *renderer)
<span style = "background-color:#fdd">{
  GetVtkProp(renderer)-&gt;RenderOpaqueGeometry(renderer-&gt;GetVtkRenderer());
  GetVtkProp(renderer)-&gt;RenderOverlay(renderer-&gt;GetVtkRenderer());
}</span></pre>
	</body>
</html>