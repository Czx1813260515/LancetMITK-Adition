<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>lancetVegaTypeInformation.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
#include "lancetVegaTypeInformation.h"
#include "lancetVegaTrackingDevice.h"

namespace lancet
{
    std::string NDIVegaTypeInformation::GetTrackingDeviceName()
<span style = "background-color:#dfd">    {
        return "Vega";
    }</span>

    mitk::TrackingDeviceData NDIVegaTypeInformation::GetDeviceDataLancetVegaTrackingDevice()
<span style = "background-color:#dfd">    {
        mitk::TrackingDeviceData data = { NDIVegaTypeInformation::GetTrackingDeviceName(), "Vega", "NDIPolarisSpectraExtendedPyramid.stl", "X" };
        return data;
    }</span>

    NDIVegaTypeInformation::NDIVegaTypeInformation()
<span style = "background-color:#dfd">    {
        this-&gt;m_DeviceName = NDIVegaTypeInformation::GetTrackingDeviceName();
        this-&gt;m_TrackingDeviceData.push_back(NDIVegaTypeInformation::GetDeviceDataLancetVegaTrackingDevice());
    }</span>

    mitk::TrackingDeviceSource::Pointer NDIVegaTypeInformation::CreateTrackingDeviceSource(
        mitk::TrackingDevice::Pointer trackingDevice,
        mitk::NavigationToolStorage::Pointer navigationTools,
        std::string* errorMessage,
        std::vector&lt;int&gt;* toolCorrespondencesInToolStorage)
<span style = "background-color:#fdd">    {</span>
        
<span style = "background-color:#fdd">        mitk::TrackingDeviceSource::Pointer returnValue = mitk::TrackingDeviceSource::New();
        NDIVegaTrackingDevice::Pointer thisDevice = dynamic_cast&lt;lancet::NDIVegaTrackingDevice*&gt;(trackingDevice.GetPointer());
        *toolCorrespondencesInToolStorage = std::vector&lt;int&gt;();</span>
        //add the tools to the tracking device
<span style = "background-color:#fdd">        for (unsigned int i = 0; i &lt; navigationTools-&gt;GetToolCount(); i++)</span>
        {
<span style = "background-color:#fdd">            mitk::NavigationTool::Pointer thisNavigationTool = navigationTools-&gt;GetTool(i);
            toolCorrespondencesInToolStorage-&gt;push_back(i);
            bool toolAddSuccess = thisDevice-&gt;AddTool(thisNavigationTool-&gt;GetToolName().c_str(), thisNavigationTool-&gt;GetCalibrationFile().c_str());
            if (!toolAddSuccess)</span>
            {
                //todo: error handling
<span style = "background-color:#fdd">                errorMessage-&gt;append("Can't add tool, is the SROM-file valid?");
                return nullptr;</span>
            }
<span style = "background-color:#fdd">            thisDevice-&gt;GetTool(i)-&gt;SetToolTipPosition(thisNavigationTool-&gt;GetToolTipPosition(), thisNavigationTool-&gt;GetToolAxisOrientation());
        }
        returnValue-&gt;SetTrackingDevice(thisDevice);
        return returnValue;
    }</span>
}</pre>
	</body>
</html>