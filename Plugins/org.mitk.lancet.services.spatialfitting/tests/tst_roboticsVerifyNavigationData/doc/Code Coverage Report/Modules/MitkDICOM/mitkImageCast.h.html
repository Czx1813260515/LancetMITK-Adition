<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkImageCast.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#ifndef MITKIMAGECAST_H_HEADER_INCLUDED
#define MITKIMAGECAST_H_HEADER_INCLUDED

#include &lt;MitkCoreExports.h&gt;
#include &lt;mitkImage.h&gt;

#include &lt;itkImage.h&gt;
#include &lt;itkVectorImage.h&gt;

namespace mitk
{
#ifndef DOXYGEN_SKIP
  template &lt;typename TPixel, unsigned int VImageDimension, class ItkOutputImageType&gt;
  void _CastToItkImage2Access(const itk::Image&lt;TPixel, VImageDimension&gt; *itkInputImage,
                              itk::SmartPointer&lt;ItkOutputImageType&gt; &amp;itkOutputImage);

  template &lt;typename TPixel, unsigned int VImageDimension, class ItkOutputImageType&gt;
  void _CastToItkImage2Access(const itk::VectorImage&lt;TPixel, VImageDimension&gt; *itkInputImage,
                              itk::SmartPointer&lt;ItkOutputImageType&gt; &amp;itkOutputImage);
#endif // DOXYGEN_SKIP

  /**
   * @brief Cast an mitk::Image to an itk::Image with a specific type.
   *
   * This method casts the pixel types and copies the image memory if necessary. If
   * the requested pixel type is equal to the pixel type of the MITK image, the
   * memory is just referenced.
   *
   * Usually, you want the ITK image to reference the same image data as the MITK image
   * without any casting. In this case use mitk::ImageToItkImage, which generate less
   * code and is more efficient.
   *
   * @param mitkImage The MITK image to be cast to an ITK image
   * @param itkOutputImage You don't have to initialize the itk::Image&lt;..&gt;::Pointer.
   *
   * @sa mitk::ImageToItkImage
   *
   * @ingroup Adaptor
   */
  template &lt;typename ItkOutputImageType&gt;
  extern void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage,
                                             itk::SmartPointer&lt;ItkOutputImageType&gt; &amp;itkOutputImage);

  /**
   * @brief Cast an mitk::Image to an itk::VectorImage with a specific type.
   *
   * You don't have to initialize the itk::VectorImage&lt;..&gt;::Pointer.
   * @ingroup Adaptor
   */
  template &lt;typename TPixelType, unsigned int VImageDimension&gt;
  extern void MITKCORE_EXPORT CastToItkImage(
    const mitk::Image *mitkImage, itk::SmartPointer&lt;itk::VectorImage&lt;TPixelType, VImageDimension&gt;&gt; &amp;itkOutputImage);

  /**
   * @brief Cast an itk::Image (with a specific type) to an mitk::Image.
   *
   * CastToMitkImage does not cast pixel types etc., just image data
   * @ingroup Adaptor
   * \sa mitkITKImageImport
   */
  template &lt;typename ItkOutputImageType&gt;
  void CastToMitkImage(const itk::SmartPointer&lt;ItkOutputImageType&gt; &amp;itkimage,
                       itk::SmartPointer&lt;mitk::Image&gt; &amp;mitkoutputimage)
<span style = "background-color:#fdd">  {
    CastToMitkImage(itkimage.GetPointer(), mitkoutputimage);
  }</span>

  /**
   * @brief Cast an itk::Image (with a specific type) to an mitk::Image.
   *
   * CastToMitkImage does not cast pixel types etc., just image data
   * @ingroup Adaptor
   * \sa mitkITKImageImport
   */
  template &lt;typename ItkOutputImageType&gt;
  void CastToMitkImage(const ItkOutputImageType *itkimage, itk::SmartPointer&lt;mitk::Image&gt; &amp;mitkoutputimage)
<span style = "background-color:#fdd">  {
    if (mitkoutputimage.IsNull())</span>
    {
<span style = "background-color:#fdd">      mitkoutputimage = mitk::Image::New();</span>
    }
<span style = "background-color:#fdd">    mitkoutputimage-&gt;InitializeByItk(itkimage);
    mitkoutputimage-&gt;SetChannel(itkimage-&gt;GetBufferPointer());
  }</span>
}

#endif // of MITKIMAGECAST_H_HEADER_INCLUDED</pre>
	</body>
</html>