<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkIFileReader.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#ifndef IFileReader_H_HEADER_INCLUDED_C1E7E521
#define IFileReader_H_HEADER_INCLUDED_C1E7E521

#include &lt;mitkDataStorage.h&gt;
#include &lt;mitkIFileIO.h&gt;

#include &lt;mitkServiceInterface.h&gt;

namespace mitk
{
  class BaseData;
}

namespace itk
{
  template &lt;class T&gt;
  class SmartPointer;
}

namespace mitk
{
  /**
   * \ingroup IO
   * \ingroup MicroServices_Interfaces
   *
   * \brief The common interface for all MITK file readers.
   *
   * Implementations of this interface must be registered as a service
   * to make themselve available via the service registry. If the
   * implementation is state-full, the service should be registered using
   * a PrototypeServiceFactory.
   *
   * The file reader implementation is associated with a mime-type, specified
   * in the service property PROP_MIMETYPE(). The specified mime-type should
   * have a corresponding CustomMimeType service object, registered by the reader
   * or some other party.
   *
   * It is recommended to derive new implementations from AbstractFileReader or
   * from AbstractFileIO (if both reader and writer is implemented),
   * which provide correct service registration semantics.
   *
   * \sa AbstractFileReader
   * \sa AbstractFileIO
   * \sa CustomMimeType
   * \sa FileReaderRegistry
   * \sa IFileWriter
   */
  struct MITKCORE_EXPORT IFileReader : public IFileIO
  {
    ~IFileReader() override;

    /**
     * \brief Set the input location.
     * \param location The file name to read from.
     */
    virtual void SetInput(const std::string &amp;location) = 0;

    /**
     * @brief Set an input stream to read from.
     * @param location A custom label for the input stream.
     * @param is The input stream.
     *
     * If \c is is \c nullptr, this clears the current input stream and \c location
     * is interpreted as a file-system path. Otherwise, \c location is a custom
     * label describing the input stream \c is.
     */
    virtual void SetInput(const std::string &amp;location, std::istream *is) = 0;

    /**
     * @brief Get the current input location.
     * @return The input location.
     */
    virtual std::string GetInputLocation() const = 0;

    /**
     * @brief Get the input stream.
     * @return The currently set input stream.
     */
    virtual std::istream *GetInputStream() const = 0;

    /**
     * \brief Reads the specified file or input stream and returns its contents.
     *
     * \return A list of created BaseData objects.
     *
     * If GetInputStream() returns a non-null value, this method must use
     * the returned stream object to read the data from. If no input stream
     * was set, the data must be read from the path returned by GetInputLocation().
     *
     * \throws mitk::Exception
     */
    virtual std::vector&lt;itk::SmartPointer&lt;BaseData&gt;&gt; Read() = 0;

    /**
     * \brief Reads the specified file or input stream, loading its
     * contents into the provided DataStorage.
     *
     * \param ds The DataStorage to which the data is added.
     * \return The set of added DataNodes to \c ds.
     *
     * This method may be overridden by implementations to create or
     * reconstructed a hierarchy of mitk::DataNode instances in the
     * provided mitk::DataStorage.
     *
     * \throws mitk::Exception
     */
    virtual DataStorage::SetOfObjects::Pointer Read(mitk::DataStorage &amp;ds) = 0;

    /**
     * @return A list of files that were loaded during the last call of Read.
     */
    virtual std::vector&lt; std::string &gt; GetReadFiles() = 0;
  };

} // namespace mitk

<span style = "background-color:#dfd">MITK_DECLARE_SERVICE_INTERFACE(mitk::IFileReader, "org.mitk.IFileReader")</span>

#endif /* IFileReader_H_HEADER_INCLUDED_C1E7E521 */</pre>
	</body>
</html>