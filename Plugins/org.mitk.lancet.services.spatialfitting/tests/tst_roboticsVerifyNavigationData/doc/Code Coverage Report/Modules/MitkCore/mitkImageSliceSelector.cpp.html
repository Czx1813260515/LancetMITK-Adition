<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkImageSliceSelector.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkImageSliceSelector.h"

void mitk::ImageSliceSelector::GenerateOutputInformation()
<span style = "background-color:#fdd">{
  mitk::Image::ConstPointer input = this-&gt;GetInput();
  mitk::Image::Pointer output = this-&gt;GetOutput();</span>

<span style = "background-color:#fdd">  itkDebugMacro(&lt;&lt; "GenerateOutputInformation()");</span>

<span style = "background-color:#fdd">  output-&gt;Initialize(input-&gt;GetPixelType(), 2, input-&gt;GetDimensions());</span>

<span style = "background-color:#fdd">  if ((unsigned int)m_SliceNr &gt;= input-&gt;GetDimension(2))</span>
  {
<span style = "background-color:#fdd">    m_SliceNr = input-&gt;GetDimension(2) - 1;</span>
  }

<span style = "background-color:#fdd">  if ((unsigned int)m_TimeNr &gt;= input-&gt;GetDimension(3))</span>
  {
<span style = "background-color:#fdd">    m_TimeNr = input-&gt;GetDimension(3) - 1;</span>
  }

  // initialize geometry
<span style = "background-color:#fdd">  output-&gt;SetGeometry(dynamic_cast&lt;BaseGeometry *&gt;(</span>
    input-&gt;GetSlicedGeometry(m_TimeNr)-&gt;GetPlaneGeometry(m_SliceNr)-&gt;Clone().GetPointer()));
<span style = "background-color:#fdd">  output-&gt;SetPropertyList(input-&gt;GetPropertyList()-&gt;Clone());
}</span>

void mitk::ImageSliceSelector::GenerateData()
<span style = "background-color:#fdd">{
  SetSliceItem(GetSliceData(m_SliceNr, m_TimeNr, m_ChannelNr), 0);
}</span>

<span style = "background-color:#fdd">mitk::ImageSliceSelector::ImageSliceSelector() : m_SliceNr(0), m_TimeNr(0), m_ChannelNr(0)
{
}</span>

mitk::ImageSliceSelector::~ImageSliceSelector()
<span style = "background-color:#fdd">{
}</span>

void mitk::ImageSliceSelector::GenerateInputRequestedRegion()
<span style = "background-color:#fdd">{
  Superclass::GenerateInputRequestedRegion();</span>

<span style = "background-color:#fdd">  mitk::ImageToImageFilter::InputImagePointer input =this-&gt;GetInput();
  mitk::Image::Pointer output = this-&gt;GetOutput();</span>

<span style = "background-color:#fdd">  Image::RegionType requestedRegion;
  requestedRegion = output-&gt;GetRequestedRegion();
  requestedRegion.SetIndex(2, m_SliceNr);
  requestedRegion.SetIndex(3, m_TimeNr);
  requestedRegion.SetIndex(4, m_ChannelNr);
  requestedRegion.SetSize(2, 1);
  requestedRegion.SetSize(3, 1);
  requestedRegion.SetSize(4, 1);</span>

<span style = "background-color:#fdd">  input-&gt;SetRequestedRegion(&amp;requestedRegion);
}</span></pre>
	</body>
</html>