<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkPropertyFilters.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkPropertyFilters.h"
#include &lt;mitkPropertyFilter.h&gt;
#include &lt;utility&gt;

mitk::PropertyFilters::PropertyFilters()
<span style = "background-color:#dfd">{
}</span>

mitk::PropertyFilters::~PropertyFilters()
<span style = "background-color:#dfd">{
}</span>

bool mitk::PropertyFilters::AddFilter(const PropertyFilter &amp;filter, const std::string &amp;className, bool overwrite)
<span style = "background-color:#fdd">{
  if (!filter.IsEmpty())</span>
  {
<span style = "background-color:#fdd">    std::pair&lt;std::map&lt;std::string, PropertyFilter&gt;::iterator, bool&gt; ret =</span>
      m_Filters.insert(std::make_pair(className, filter));

<span style = "background-color:#fdd">    if (!ret.second &amp;&amp; overwrite)</span>
    {
<span style = "background-color:#fdd">      ret.first-&gt;second = filter;
      ret.second = true;</span>
    }

<span style = "background-color:#fdd">    return ret.second;</span>
  }

<span style = "background-color:#fdd">  return false;
}</span>

std::map&lt;std::string, mitk::BaseProperty::Pointer&gt; mitk::PropertyFilters::ApplyFilter(
  const std::map&lt;std::string, BaseProperty::Pointer&gt; &amp;propertyMap, const std::string &amp;className) const
<span style = "background-color:#fdd">{
  std::map&lt;std::string, BaseProperty::Pointer&gt; ret = propertyMap;
  PropertyFilter filter = this-&gt;GetFilter("");</span>

<span style = "background-color:#fdd">  if (!filter.IsEmpty())
    ret = filter.Apply(ret);</span>

<span style = "background-color:#fdd">  if (!className.empty())</span>
  {
<span style = "background-color:#fdd">    filter = this-&gt;GetFilter(className);</span>

<span style = "background-color:#fdd">    if (!filter.IsEmpty())
      ret = filter.Apply(ret);</span>
  }

<span style = "background-color:#fdd">  return ret;
}</span>

mitk::PropertyFilter mitk::PropertyFilters::GetFilter(const std::string &amp;className) const
<span style = "background-color:#fdd">{
  auto iter = m_Filters.find(className);</span>

<span style = "background-color:#fdd">  if (iter != m_Filters.end())
    return iter-&gt;second;</span>

<span style = "background-color:#fdd">  return PropertyFilter();
}</span>

bool mitk::PropertyFilters::HasFilter(const std::string &amp;className) const
<span style = "background-color:#fdd">{
  return m_Filters.find(className) != m_Filters.end();
}</span>

void mitk::PropertyFilters::RemoveAllFilters()
<span style = "background-color:#fdd">{
  m_Filters.clear();
}</span>

void mitk::PropertyFilters::RemoveFilter(const std::string &amp;className)
<span style = "background-color:#fdd">{
  m_Filters.erase(className);
}</span></pre>
	</body>
</html>