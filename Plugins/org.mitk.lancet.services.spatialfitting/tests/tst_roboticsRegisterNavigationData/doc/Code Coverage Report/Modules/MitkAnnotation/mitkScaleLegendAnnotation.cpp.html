<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkScaleLegendAnnotation.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkScaleLegendAnnotation.h"
#include &lt;vtkAxisActor2D.h&gt;
#include &lt;vtkLegendScaleActor.h&gt;
#include &lt;vtkTextProperty.h&gt;

mitk::ScaleLegendAnnotation::ScaleLegendAnnotation()
<span style = "background-color:#fdd">{
  SetRightAxisVisibility(true);
  SetLeftAxisVisibility(true);
  SetTopAxisVisibility(true);
  SetBottomAxisVisibility(true);
  SetLegendVisibility(true);
  SetRightBorderOffset(50);
  SetLeftBorderOffset(50);
  SetTopBorderOffset(30);
  SetBottomBorderOffset(30);
  SetCornerOffsetFactor(2.0);
  SetFontFactor(1.0);
}</span>

mitk::ScaleLegendAnnotation::~ScaleLegendAnnotation()
<span style = "background-color:#fdd">{
  for (BaseRenderer *renderer : m_LSH.GetRegisteredBaseRenderer())</span>
  {
<span style = "background-color:#fdd">    if (renderer)</span>
    {
<span style = "background-color:#fdd">      this-&gt;RemoveFromBaseRenderer(renderer);
    }
  }
}</span>

mitk::ScaleLegendAnnotation::LocalStorage::~LocalStorage()
<span style = "background-color:#fdd">{
}</span>

mitk::ScaleLegendAnnotation::LocalStorage::LocalStorage()
<span style = "background-color:#fdd">{
  m_legendScaleActor = vtkSmartPointer&lt;vtkLegendScaleActor&gt;::New();
}</span>

void mitk::ScaleLegendAnnotation::UpdateVtkAnnotation(mitk::BaseRenderer *renderer)
<span style = "background-color:#fdd">{
  LocalStorage *ls = this-&gt;m_LSH.GetLocalStorage(renderer);</span>

<span style = "background-color:#fdd">  if (ls-&gt;IsGenerateDataRequired(renderer, this))</span>
  {
<span style = "background-color:#fdd">    ls-&gt;m_legendScaleActor-&gt;SetRightAxisVisibility(this-&gt;GetRightAxisVisibility());
    ls-&gt;m_legendScaleActor-&gt;SetTopAxisVisibility(this-&gt;GetTopAxisVisibility());
    ls-&gt;m_legendScaleActor-&gt;SetLeftAxisVisibility(this-&gt;GetLeftAxisVisibility());
    ls-&gt;m_legendScaleActor-&gt;SetBottomAxisVisibility(this-&gt;GetBottomAxisVisibility());
    ls-&gt;m_legendScaleActor-&gt;SetLegendVisibility(this-&gt;GetLegendVisibility());
    ls-&gt;m_legendScaleActor-&gt;SetRightBorderOffset(this-&gt;GetRightBorderOffset());
    ls-&gt;m_legendScaleActor-&gt;SetLeftBorderOffset(this-&gt;GetLeftBorderOffset());
    ls-&gt;m_legendScaleActor-&gt;SetTopBorderOffset(this-&gt;GetTopBorderOffset());
    ls-&gt;m_legendScaleActor-&gt;SetBottomBorderOffset(this-&gt;GetBottomBorderOffset());
    ls-&gt;m_legendScaleActor-&gt;SetCornerOffsetFactor(this-&gt;GetCornerOffsetFactor());
    ls-&gt;m_legendScaleActor-&gt;GetLeftAxis()-&gt;SetFontFactor(this-&gt;GetFontFactor());
    ls-&gt;m_legendScaleActor-&gt;GetRightAxis()-&gt;SetFontFactor(this-&gt;GetFontFactor());
    ls-&gt;m_legendScaleActor-&gt;GetTopAxis()-&gt;SetFontFactor(this-&gt;GetFontFactor());
    ls-&gt;m_legendScaleActor-&gt;GetBottomAxis()-&gt;SetFontFactor(this-&gt;GetFontFactor());</span>
  }
<span style = "background-color:#fdd">}</span>

vtkProp *mitk::ScaleLegendAnnotation::GetVtkProp(BaseRenderer *renderer) const
<span style = "background-color:#fdd">{
  LocalStorage *ls = this-&gt;m_LSH.GetLocalStorage(renderer);
  return ls-&gt;m_legendScaleActor;
}</span>

void mitk::ScaleLegendAnnotation::SetRightAxisVisibility(bool visibility)
<span style = "background-color:#fdd">{
  SetBoolProperty("ScaleLegendAnnotation.RightAxisVisibility", visibility);
}</span>

bool mitk::ScaleLegendAnnotation::GetRightAxisVisibility() const
<span style = "background-color:#fdd">{</span>
  bool visibility;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetBoolProperty("ScaleLegendAnnotation.RightAxisVisibility", visibility);
  return visibility;
}</span>

void mitk::ScaleLegendAnnotation::SetLeftAxisVisibility(bool visibility)
<span style = "background-color:#fdd">{
  SetBoolProperty("ScaleLegendAnnotation.LeftAxisVisibility", visibility);
}</span>

bool mitk::ScaleLegendAnnotation::GetLeftAxisVisibility() const
<span style = "background-color:#fdd">{</span>
  bool visibility;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetBoolProperty("ScaleLegendAnnotation.LeftAxisVisibility", visibility);
  return visibility;
}</span>

void mitk::ScaleLegendAnnotation::SetTopAxisVisibility(bool visibility)
<span style = "background-color:#fdd">{
  SetBoolProperty("ScaleLegendAnnotation.TopAxisVisibility", visibility);
}</span>

bool mitk::ScaleLegendAnnotation::GetTopAxisVisibility() const
<span style = "background-color:#fdd">{</span>
  bool visibility;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetBoolProperty("ScaleLegendAnnotation.TopAxisVisibility", visibility);
  return visibility;
}</span>

void mitk::ScaleLegendAnnotation::SetBottomAxisVisibility(bool visibility)
<span style = "background-color:#fdd">{
  SetBoolProperty("ScaleLegendAnnotation.BottomAxisVisibility", visibility);
}</span>

bool mitk::ScaleLegendAnnotation::GetBottomAxisVisibility() const
<span style = "background-color:#fdd">{</span>
  bool visibility;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetBoolProperty("ScaleLegendAnnotation.BottomAxisVisibility", visibility);
  return visibility;
}</span>

void mitk::ScaleLegendAnnotation::SetLegendVisibility(bool visibility)
<span style = "background-color:#fdd">{
  SetBoolProperty("ScaleLegendAnnotation.SetLegendVisibility", visibility);
}</span>

bool mitk::ScaleLegendAnnotation::GetLegendVisibility() const
<span style = "background-color:#fdd">{</span>
  bool visibility;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetBoolProperty("ScaleLegendAnnotation.SetLegendVisibility", visibility);
  return visibility;
}</span>

void mitk::ScaleLegendAnnotation::SetRightBorderOffset(int offset)
<span style = "background-color:#fdd">{
  SetIntProperty("ScaleLegendAnnotation.RightBorderOffset", offset);
}</span>

int mitk::ScaleLegendAnnotation::GetRightBorderOffset() const
<span style = "background-color:#fdd">{</span>
  int offset;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetIntProperty("ScaleLegendAnnotation.RightBorderOffset", offset);
  return offset;
}</span>

void mitk::ScaleLegendAnnotation::SetLeftBorderOffset(int offset)
<span style = "background-color:#fdd">{
  SetIntProperty("ScaleLegendAnnotation.LeftBorderOffset", offset);
}</span>

int mitk::ScaleLegendAnnotation::GetLeftBorderOffset() const
<span style = "background-color:#fdd">{</span>
  int offset;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetIntProperty("ScaleLegendAnnotation.LeftBorderOffset", offset);
  return offset;
}</span>

void mitk::ScaleLegendAnnotation::SetTopBorderOffset(int offset)
<span style = "background-color:#fdd">{
  SetIntProperty("ScaleLegendAnnotation.TopBorderOffset", offset);
}</span>

int mitk::ScaleLegendAnnotation::GetTopBorderOffset() const
<span style = "background-color:#fdd">{</span>
  int offset;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetIntProperty("ScaleLegendAnnotation.TopBorderOffset", offset);
  return offset;
}</span>

void mitk::ScaleLegendAnnotation::SetBottomBorderOffset(int offset)
<span style = "background-color:#fdd">{
  SetIntProperty("ScaleLegendAnnotation.BottomBorderOffset", offset);
}</span>

int mitk::ScaleLegendAnnotation::GetBottomBorderOffset() const
<span style = "background-color:#fdd">{</span>
  int offset;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetIntProperty("ScaleLegendAnnotation.BottomBorderOffset", offset);
  return offset;
}</span>

void mitk::ScaleLegendAnnotation::SetCornerOffsetFactor(double offsetFactor)
<span style = "background-color:#fdd">{
  SetDoubleProperty("ScaleLegendAnnotation.CornerOffsetFactor", offsetFactor);
}</span>

double mitk::ScaleLegendAnnotation::GetCornerOffsetFactor() const
<span style = "background-color:#fdd">{</span>
  double offsetFactor;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetDoubleProperty("ScaleLegendAnnotation.CornerOffsetFactor", offsetFactor);
  return offsetFactor;
}</span>

void mitk::ScaleLegendAnnotation::SetFontFactor(double fontFactor)
<span style = "background-color:#fdd">{
  SetDoubleProperty("ScaleLegendAnnotation.FontFactor", fontFactor);
}</span>

double mitk::ScaleLegendAnnotation::GetFontFactor() const
<span style = "background-color:#fdd">{</span>
  double offsetFactor;
<span style = "background-color:#fdd">  GetPropertyList()-&gt;GetDoubleProperty("ScaleLegendAnnotation.FontFactor", offsetFactor);
  return offsetFactor;
}</span></pre>
	</body>
</html>