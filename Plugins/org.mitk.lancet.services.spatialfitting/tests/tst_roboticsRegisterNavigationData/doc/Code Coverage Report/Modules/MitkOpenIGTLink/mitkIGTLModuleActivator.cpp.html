<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkIGTLModuleActivator.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include &lt;usGetModuleContext.h&gt;
#include &lt;usModuleActivator.h&gt;
#include &lt;usModuleContext.h&gt;
#include &lt;usModule.h&gt;

#include "mitkIGTLMeasurements.h"

namespace mitk
{

  /**
  \brief Registers services for IGTL module.
  */
  class IGTLModuleActivator : public us::ModuleActivator
  {
  public:

    void Load(us::ModuleContext* context) override
<span style = "background-color:#dfd">    {</span>
      // First create and register a instance.
<span style = "background-color:#dfd">      m_Measurement = IGTLMeasurements::New();
      m_MeasurementReg = context-&gt;RegisterService&lt;IGTLMeasurements&gt;(m_Measurement);
    }</span>

    void Unload(us::ModuleContext*) override
<span style = "background-color:#dfd">    {
      m_MeasurementReg.Unregister();</span>
      //delete m_Measurement;
      //m_Measurement.
<span style = "background-color:#dfd">    }</span>

  private:
    IGTLMeasurements::Pointer m_Measurement;
    us::ServiceRegistration&lt;IGTLMeasurements&gt; m_MeasurementReg;
  };
}

<span style = "background-color:#dfd">US_EXPORT_MODULE_ACTIVATOR(mitk::IGTLModuleActivator)</span></pre>
	</body>
</html>