<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkIGTActivator.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkIGTConfig.h"
#include "mitkIGTActivator.h"

//All Tracking devices, which should be available by default
#include "mitkNDIAuroraTypeInformation.h"
#include "mitkNDIPolarisTypeInformation.h"
#include "mitkVirtualTrackerTypeInformation.h"
#include "lancetVegaTypeInformation.h"
#include "mitkOpenIGTLinkTypeInformation.h"
#ifdef MITK_USE_MICRON_TRACKER
#include "mitkMicronTrackerTypeInformation.h"
#endif
#ifdef MITK_USE_OPTITRACK_TRACKER
#include "mitkNPOptitrackTrackingTypeInformation.h"
#endif
#ifdef MITK_USE_POLHEMUS_TRACKER
#include "mitkPolhemusTrackerTypeInformation.h"
#endif
namespace mitk
{

  IGTActivator::IGTActivator()
<span style = "background-color:#dfd">  {
  }</span>

  IGTActivator::~IGTActivator()
<span style = "background-color:#dfd">  {
  }</span>

  void IGTActivator::Load(us::ModuleContext*)
<span style = "background-color:#dfd">  {
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::NDIAuroraTypeInformation());
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::NDIPolarisTypeInformation());
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::VirtualTrackerTypeInformation());
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::OpenIGTLinkTypeInformation());
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new lancet::NDIVegaTypeInformation());</span>
#ifdef MITK_USE_OPTITRACK_TRACKER
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::NPOptitrackTrackingTypeInformation());
#endif
#ifdef MITK_USE_MICRON_TRACKER
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::MicronTrackerTypeInformation());
#endif
#ifdef MITK_USE_POLHEMUS_TRACKER
    m_DeviceTypeCollection.RegisterTrackingDeviceType(new mitk::PolhemusTrackerTypeInformation());
#endif
<span style = "background-color:#dfd">	m_DeviceTypeCollection.RegisterAsMicroservice();
  }</span>

  void IGTActivator::Unload(us::ModuleContext*)
<span style = "background-color:#dfd">  {</span>
    try
    {
<span style = "background-color:#dfd">      m_DeviceTypeCollection.UnRegisterMicroservice();</span>
    }
    catch (std::exception&amp; e)
<span style = "background-color:#fdd">    {
      MITK_WARN &lt;&lt; "Unable to unregister IGT DeviceTypeCollection Microservice: "&lt;&lt;e.what();
    }</span>
<span style = "background-color:#dfd">  }</span>

}

<span style = "background-color:#dfd">US_EXPORT_MODULE_ACTIVATOR(mitk::IGTActivator)</span></pre>
	</body>
</html>