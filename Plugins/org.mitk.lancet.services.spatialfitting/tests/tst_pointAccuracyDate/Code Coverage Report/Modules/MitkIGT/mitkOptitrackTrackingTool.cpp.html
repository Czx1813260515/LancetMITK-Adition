<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkOptitrackTrackingTool.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkOptitrackTrackingTool.h"

#ifdef MITK_USE_OPTITRACK_TRACKER

/**
* \brief API library header for Optitrack Systems
*/
#include &lt;NPTrackingTools.h&gt;

//=======================================================
// Constructor
//=======================================================
mitk::OptitrackTrackingTool::OptitrackTrackingTool()
  :  mitk::TrackingTool(),
    m_ID(-1)
{
  MITK_DEBUG &lt;&lt; "Creating OptitrackTrackingTool Object";
  this-&gt;m_FLE = 0.0;
}

//=======================================================
// Destructor
//=======================================================
mitk::OptitrackTrackingTool::~OptitrackTrackingTool()
{
  delete this-&gt;m_calibrationPoints;
  delete m_pivotPoint;
  MITK_DEBUG &lt;&lt; "Deleting OptitrackTrackingTool Object";
}

//=======================================================
// SetToolByFileName
//=======================================================
bool mitk::OptitrackTrackingTool::SetToolByFileName(std::string nameFile)
{
  MITK_DEBUG &lt;&lt; "SetToolByFileName";
  MITK_INFO&lt;&lt;"Name of the file for configuration:  "&lt;&lt;nameFile;
  this-&gt;m_fileConfiguration = nameFile;
  int resultFscan, resultUpdate, resultCreateTrackable, resultTrackableTranslatePivot;

  // Check the file path
  if(this-&gt;m_fileConfiguration.empty())
  {
    MITK_INFO &lt;&lt; "Calibration File for Tool is empty";
    mitkThrowException(mitk::IGTException) &lt;&lt; "Calibration File for Tool is empty";
    return false;
  }

  // Open the file
  FILE* calib_file = fopen(this-&gt;m_fileConfiguration.c_str(),"r");
  if (calib_file == nullptr)
  {
    MITK_INFO &lt;&lt; "Error using opening file";
    mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot open configuration file";
    return false;
  }

  MITK_DEBUG&lt;&lt;"Reading configuration file...";

  // Get the name
  this-&gt;m_ToolName = "";
  char* aux = new char[200];
  resultFscan = fscanf(calib_file,"%s\n",aux);
  this-&gt;m_ToolName.append(aux);
  delete aux;
  if ((resultFscan &lt; 1) || this-&gt;m_ToolName.empty())
  {
    MITK_INFO &lt;&lt; "No name found in the tool configuration file";
    mitkThrowException(mitk::IGTException) &lt;&lt; "No name found in the tool configuration file";
    return false;
  }

  MITK_INFO&lt;&lt;"ToolName: " &lt;&lt; this-&gt;m_ToolName;

  // Get the number of of points
  resultFscan = fscanf(calib_file,"%i\n",&amp;(this-&gt;m_numMarkers));
  if (this-&gt;m_numMarkers &lt; 3)
  {
    MITK_INFO &lt;&lt; "The minimum number for define a tool is 3 markers";
    mitkThrowException(mitk::IGTException) &lt;&lt; "Tool has less than 3 markers";
    return false;
  }

  MITK_INFO&lt;&lt;"\tNumer of Markers: " &lt;&lt; this-&gt;m_numMarkers;

  // Read the Calibration Point locations and save them
  this-&gt;m_calibrationPoints = new float[3*this-&gt;m_numMarkers];

  for(int i=0; i&lt;this-&gt;m_numMarkers; i++)
  {
     resultFscan = fscanf(calib_file,"%fe ",  &amp;this-&gt;m_calibrationPoints[i*3+0]);
     if (resultFscan &lt; 1)
     {
       MITK_INFO &lt;&lt; "Cannot read X location for marker " &lt;&lt; i;
       mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot read X location for marker " &lt;&lt; i;
       return false;
     }

     resultFscan = fscanf(calib_file,"%fe ",  &amp;this-&gt;m_calibrationPoints[i*3+1]);
     if (resultFscan &lt; 1)
     {
       MITK_INFO &lt;&lt; "Cannot read Y location for marker " &lt;&lt; i;
       mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot read Y location for marker " &lt;&lt; i;
       return false;
     }

     resultFscan = fscanf(calib_file,"%fe\n",  &amp;this-&gt;m_calibrationPoints[i*3+2]);
     if (resultFscan &lt; 1)
     {
       MITK_INFO &lt;&lt; "Cannot read Z location for marker " &lt;&lt; i;
       mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot read Z location for marker " &lt;&lt; i;
       return false;
     }
     MITK_DEBUG &lt;&lt; "\t\tMarker " &lt;&lt; i;
     MITK_DEBUG &lt;&lt; "\t\t X: " &lt;&lt; this-&gt;m_calibrationPoints[i*3+0] &lt;&lt; " Y: " &lt;&lt; this-&gt;m_calibrationPoints[i*3+1] &lt;&lt; " Z: " &lt;&lt; this-&gt;m_calibrationPoints[i*3+2];

     this-&gt;m_calibrationPoints[i*3+0] = this-&gt;m_calibrationPoints[i*3+0]/1000;
     this-&gt;m_calibrationPoints[i*3+1] = this-&gt;m_calibrationPoints[i*3+1]/1000;
     this-&gt;m_calibrationPoints[i*3+2] = -this-&gt;m_calibrationPoints[i*3+2]/1000;// Optitrack works with Left Handed System

  }

  // Read the Pivot Point location
  this-&gt;m_pivotPoint = new float[3];
  resultFscan = fscanf(calib_file,"%fe ",  &amp;this-&gt;m_pivotPoint[0]);
  if (resultFscan &lt; 1)
  {
    MITK_INFO &lt;&lt; "Cannot read X location for Pivot Point ";
    mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot read X location for Pivot Point ";
    return false;
  }

  resultFscan = fscanf(calib_file,"%fe ",  &amp;this-&gt;m_pivotPoint[1]);
  if (resultFscan &lt; 1)
  {
    MITK_INFO &lt;&lt; "Cannot read Y location for Pivot Point " ;
    mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot read Y location for Pivot Point ";
    return false;
  }

  resultFscan = fscanf(calib_file,"%fe\n",  &amp;this-&gt;m_pivotPoint[2]);
  if (resultFscan &lt; 1)
  {
    MITK_INFO &lt;&lt; "Cannot read Z location for Pivot Point " ;
    mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot read Z location for Pivot Point ";
    return false;
   }

  MITK_INFO &lt;&lt; "\tPivotPoint " ;
  MITK_INFO &lt;&lt; "\t\t X: " &lt;&lt; this-&gt;m_pivotPoint[0] &lt;&lt; " Y: " &lt;&lt; this-&gt;m_pivotPoint[1] &lt;&lt; " Z: " &lt;&lt; this-&gt;m_pivotPoint[2];

  // mm -&gt; m
  this-&gt;m_pivotPoint[0] = this-&gt;m_pivotPoint[0]/1000;
  this-&gt;m_pivotPoint[1] = this-&gt;m_pivotPoint[1]/1000;
  this-&gt;m_pivotPoint[2] = -this-&gt;m_pivotPoint[2]/1000;

  // get the ID for next tool in Optitrack System
  this-&gt;m_ID = this-&gt;get_IDnext();

  // Create the Tool
  for( int i=OPTITRACK_ATTEMPTS; i&gt;0; i--)
  {
    resultCreateTrackable = TT_CreateTrackable(m_ToolName.c_str(), this-&gt;m_ID,this-&gt;m_numMarkers,this-&gt;m_calibrationPoints);
    if(NPRESULT_SUCCESS == resultCreateTrackable)
    {
      MITK_INFO &lt;&lt; "Trackable Created Successfully";
      i = -1;
    }
    else
    {
      MITK_DEBUG &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(resultCreateTrackable);
      MITK_DEBUG &lt;&lt; "Trying again...";
    }
  }

  for( int i=OPTITRACK_ATTEMPTS; i&gt;0; i--)
  {
    resultUpdate = TT_Update();
    if(NPRESULT_SUCCESS == resultUpdate)
    {
      resultTrackableTranslatePivot = TT_TrackableTranslatePivot(this-&gt;m_ID,this-&gt;m_pivotPoint[0],this-&gt;m_pivotPoint[1],this-&gt;m_pivotPoint[2]);
      if(NPRESULT_SUCCESS == resultCreateTrackable)
      {
        MITK_INFO &lt;&lt; "Pivot Translation Successfull";
        fclose(calib_file);
        i=-1;
        return true;
      }
      else
      {
        MITK_INFO &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(resultUpdate);
        MITK_DEBUG &lt;&lt; "Trying again...";
      }
    }
    else
    {
      MITK_INFO &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(resultUpdate);
      MITK_DEBUG &lt;&lt; "Trying again...";
    }
  }

  MITK_INFO &lt;&lt; "Cannot create tool ";
  mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot create tool ";
  return false;
}

//=======================================================
// get_IDnext
//=======================================================
int mitk::OptitrackTrackingTool::get_IDnext()
{
  MITK_DEBUG &lt;&lt; "get_ID";
  int num_trackables = -1;
  int resultUpdate;

  for( int i=OPTITRACK_ATTEMPTS; i&gt;0; i--)
  {
    resultUpdate = TT_Update();
    if(NPRESULT_SUCCESS == resultUpdate)
    {
      num_trackables =  TT_TrackableCount();
      MITK_DEBUG &lt;&lt; " Next ID: " &lt;&lt; num_trackables;
      if(num_trackables &gt; -1)
      {
        return num_trackables;
      }
      else
      {
        MITK_DEBUG &lt;&lt; "get_IDnext failed";
        mitkThrowException(mitk::IGTException) &lt;&lt; "get_IDnext failed";
      }

    }
    else
    {
      MITK_DEBUG &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(resultUpdate);
      MITK_DEBUG &lt;&lt; "Trying again...";
    }
  }

  mitkThrowException(mitk::IGTException) &lt;&lt; "get_IDnext failed";
  return num_trackables;
}

//=======================================================
// DeleteTrackable
//=======================================================
bool mitk::OptitrackTrackingTool::DeleteTrackable()
{
  MITK_DEBUG &lt;&lt; "DeleteTrackable";
  int resultRemoveTrackable;
  resultRemoveTrackable = TT_RemoveTrackable(this-&gt;m_ID);

  if(resultRemoveTrackable != NPRESULT_SUCCESS)
  {
    MITK_INFO &lt;&lt; "Cannot Remove Trackable";
    MITK_INFO &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(resultRemoveTrackable);
    mitkThrowException(mitk::IGTException) &lt;&lt; "Cannot Remove Trackable" &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(resultRemoveTrackable);
    return false;
  }
  else
  {
    MITK_INFO&lt;&lt;"Trackable " &lt;&lt; this-&gt;m_ToolName  &lt;&lt; " removed";
  }

  return true;
}

//=======================================================
// SetPosition
//=======================================================
void mitk::OptitrackTrackingTool::SetPosition(mitk::Point3D position, ScalarType eps)
{
  MITK_DEBUG &lt;&lt; "SetPosition";
  // sets the position
  this-&gt;m_Position[0] = position[0];
  this-&gt;m_Position[1] = position[1];
  this-&gt;m_Position[2] = position[2];
}

//=======================================================
// SetOrientation
//=======================================================
void mitk::OptitrackTrackingTool::SetOrientation(mitk::Quaternion orientation, ScalarType eps)
{
  MITK_DEBUG &lt;&lt; "SetOrientation";
  // sets the orientation as a quaternion
  this-&gt;m_Orientation.x() = orientation.x();
  this-&gt;m_Orientation.y() = orientation.y();
  this-&gt;m_Orientation.z() = orientation.z();
  this-&gt;m_Orientation.r() = orientation.r();
}

//=======================================================
// GetPosition
//=======================================================
void mitk::OptitrackTrackingTool::GetPosition(mitk::Point3D&amp; positionOutput) const
{
  MITK_DEBUG &lt;&lt; "GetPosition";
  // returns the current position of the tool as an array of three floats (in the tracking device coordinate system)
  positionOutput[0] = this-&gt;m_Position[0];
  positionOutput[1] = this-&gt;m_Position[1];
  positionOutput[2] = this-&gt;m_Position[2];
}

//=======================================================
// GetOrientation
//=======================================================
void mitk::OptitrackTrackingTool::GetOrientation(mitk::Quaternion&amp; orientation) const
{
  MITK_DEBUG &lt;&lt; "GetOrientation";
  // returns the current orientation of the tool as a quaternion (in the tracking device coordinate system)
  orientation.x() = this-&gt;m_Orientation.x();
  orientation.y() = this-&gt;m_Orientation.y();
  orientation.z() = this-&gt;m_Orientation.z();
  orientation.r() = this-&gt;m_Orientation.r();
}

//=======================================================
// Enable
//=======================================================
bool mitk::OptitrackTrackingTool::Enable()
{
  MITK_DEBUG &lt;&lt; "Enable";
  // enable the tool, so that it will be tracked. Returns true if enabling was successfull
  TT_SetTrackableEnabled(this-&gt;m_ID, true);

  if(TT_TrackableEnabled(this-&gt;m_ID) == true)
  {
    this-&gt;m_Enabled = true;
    return true;
  }
  else
  {
    this-&gt;m_Enabled = false;
    MITK_INFO &lt;&lt; "Enable failed";
    mitkThrowException(mitk::IGTException) &lt;&lt; "Enable failed";
    return false;
  }
}

//=======================================================
// Disable
//=======================================================
bool mitk::OptitrackTrackingTool::Disable()
{
  MITK_DEBUG &lt;&lt; "Disable";
  // disables the tool, so that it will not be tracked anymore. Returns true if disabling was successfull
  TT_SetTrackableEnabled(this-&gt;m_ID, false);

  if(TT_TrackableEnabled(this-&gt;m_ID) == true)
  {
    this-&gt;m_Enabled = false;
    return true;
  }
  else
  {
    this-&gt;m_Enabled = true;
    MITK_INFO &lt;&lt; "Disable failed";
    mitkThrowException(mitk::IGTException) &lt;&lt; "Disable failed";
    return false;
  }

}

//=======================================================
// IsEnabled
//=======================================================
bool mitk::OptitrackTrackingTool::IsEnabled() const
{
  MITK_DEBUG &lt;&lt; "IsEnabled";
  // returns whether the tool is enabled or disabled
  return TT_TrackableEnabled(this-&gt;m_ID);
}

//=======================================================
// IsDataValid
//=======================================================
bool mitk::OptitrackTrackingTool::IsDataValid() const
{
  MITK_DEBUG &lt;&lt; "IsDataValid";
  // returns true if the current position data is valid (no error during tracking, tracking error below threshold, ...)
  return this-&gt;m_DataValid;
}

//=======================================================
// GetTrackingError
//=======================================================
float mitk::OptitrackTrackingTool::GetTrackingError() const
{
  MITK_DEBUG &lt;&lt; "GetTrackingError";
  // return one value that corresponds to the overall tracking error. The dimension of this value is specific to each tracking device
  return this-&gt;m_TrackingError;
}

//=======================================================
// SetTrackingError
//=======================================================
void mitk::OptitrackTrackingTool::SetTrackingError(float error)
{
  MITK_DEBUG &lt;&lt; "GetTrackingError";
  //&lt; sets the tracking error
  //this-&gt;m_FLE = error;
  //this-&gt;UpdateError;
  this-&gt;m_TrackingError = error;
}

//=======================================================
// SetDataValid
//=======================================================
void mitk::OptitrackTrackingTool::SetDataValid(bool validate)
{
  MITK_DEBUG &lt;&lt; "SetDataValid";
  // sets if the tracking data (position &amp; Orientation) is valid
  this-&gt;m_DataValid = validate;
}

//=======================================================
// updateTool
//=======================================================
void mitk::OptitrackTrackingTool::updateTool()
{
  MITK_DEBUG &lt;&lt; "updateTool";
  float yaw,pitch,roll;
  float data[7];

  if(TT_Update() == NPRESULT_SUCCESS)
  {
    if(this-&gt;IsEnabled())
    {
      TT_TrackableLocation(this-&gt;m_ID,  &amp;data[0],  &amp;data[1],  &amp;data[2],             // Position
                                        &amp;data[3],  &amp;data[4],  &amp;data[5],  &amp;data[6],  // Orientation
                                        &amp;yaw,    &amp;pitch,    &amp;roll);                 // Orientation

      //for( int i=0; i&lt;7; i++)
      //{
      //  if(boost::math::isinf&lt;float&gt;(data[i])) // Possible Tracking check for INF numbers
      //  {
      //    this-&gt;SetDataValid(false);
      //    MITK_DEBUG &lt;&lt; "Data set to INF by the system";
      //    return;
      //  }
      //}

    // m -&gt; mm
      this-&gt;m_Position[0] = data[0]*1000;
      this-&gt;m_Position[1] = data[1]*1000;
      this-&gt;m_Position[2] = -data[2]*1000; // Correction from LeftHanded to RightHanded system

      this-&gt;m_Orientation.x() = data[3];
      this-&gt;m_Orientation.y() = data[4];
      this-&gt;m_Orientation.z() = -data[5];
      this-&gt;m_Orientation.r() = data[6];

      this-&gt;SetDataValid(true);

      MITK_DEBUG &lt;&lt; this-&gt;m_Position[0] &lt;&lt; "   " &lt;&lt; this-&gt;m_Position[1] &lt;&lt; "   " &lt;&lt; this-&gt;m_Position[2];
      MITK_DEBUG &lt;&lt; data[3] &lt;&lt; "   " &lt;&lt; data[4] &lt;&lt; "   " &lt;&lt; data[5] &lt;&lt; "   " &lt;&lt; data[6];

    }
    else
    {
      this-&gt;SetDataValid(false);
      MITK_DEBUG &lt;&lt; "Trackable: "&lt;&lt; this-&gt;m_ToolName &lt;&lt; "is not Tracked";
    }
  }
  else
  {
    this-&gt;SetDataValid(false);
    MITK_DEBUG &lt;&lt; "Update Failed";
  }
}

//=======================================================
// IF Optitrack is not installed set functions to warnings
//=======================================================
#else

//=======================================================
// Constructor
//=======================================================
mitk::OptitrackTrackingTool::OptitrackTrackingTool()
<span style = "background-color:#fdd">  :  mitk::TrackingTool(),
    m_ID(-1)
{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// Destructor
//=======================================================
mitk::OptitrackTrackingTool::~OptitrackTrackingTool()
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// SetToolByFileName
//=======================================================
bool mitk::OptitrackTrackingTool::SetToolByFileName(std::string)
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
  return false;
}</span>

//=======================================================
// get_IDnext
//=======================================================
int mitk::OptitrackTrackingTool::get_IDnext()
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
  return -1;
}</span>

//=======================================================
// DeleteTrackable
//=======================================================
bool mitk::OptitrackTrackingTool::DeleteTrackable()
<span style = "background-color:#fdd">{
 MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
 return false;
}</span>

//=======================================================
// SetPosition
//=======================================================
void mitk::OptitrackTrackingTool::SetPosition(mitk::Point3D, ScalarType)
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// SetOrientation
//=======================================================
void mitk::OptitrackTrackingTool::SetOrientation(mitk::Quaternion, ScalarType)
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// GetPosition
//=======================================================
void mitk::OptitrackTrackingTool::GetPosition(mitk::Point3D&amp;) const
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// GetOrientation
//=======================================================
void mitk::OptitrackTrackingTool::GetOrientation(mitk::Quaternion&amp;) const
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// Enable
//=======================================================
bool mitk::OptitrackTrackingTool::Enable()
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
  return false;
}</span>

//=======================================================
// Disable
//=======================================================
bool mitk::OptitrackTrackingTool::Disable()
<span style = "background-color:#fdd">{
 MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
 return false;
}</span>

//=======================================================
// IsEnabled
//=======================================================
bool mitk::OptitrackTrackingTool::IsEnabled() const
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
  return false;
}</span>

//=======================================================
// IsDataValid
//=======================================================
bool mitk::OptitrackTrackingTool::IsDataValid() const
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
  return false;
}</span>

//=======================================================
// GetTrackingError
//=======================================================
float mitk::OptitrackTrackingTool::GetTrackingError() const
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
  return 0.0;
}</span>

//=======================================================
// SetTrackingError
//=======================================================
void mitk::OptitrackTrackingTool::SetTrackingError(float)
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// SetDataValid
//=======================================================
void mitk::OptitrackTrackingTool::SetDataValid(bool)
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>

//=======================================================
// updateTool
//=======================================================
void mitk::OptitrackTrackingTool::updateTool()
<span style = "background-color:#fdd">{
  MITK_WARN("IGT") &lt;&lt; "Error: " &lt;&lt; mitk::OptitrackErrorMessages::GetOptitrackErrorMessage(100);
}</span>


#endif</pre>
	</body>
</html>