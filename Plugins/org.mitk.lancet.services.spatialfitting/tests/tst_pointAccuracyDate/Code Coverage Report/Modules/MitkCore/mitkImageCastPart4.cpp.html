<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkImageCastPart4.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include &lt;mitkImageCast.txx&gt;

#include &lt;itkDiffusionTensor3D.h&gt;
#include &lt;itkRGBPixel.h&gt;

namespace mitk
{
  typedef itk::Image&lt;itk::RGBPixel&lt;unsigned char&gt;, 2&gt; itkImageRGBUC2;
  typedef itk::Image&lt;itk::DiffusionTensor3D&lt;float&gt;, 2&gt; itkImageDTIF2;
  typedef itk::Image&lt;itk::DiffusionTensor3D&lt;double&gt;, 2&gt; itkImageDTID2;

  template &lt;&gt;
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage, itk::SmartPointer&lt;itkImageRGBUC2&gt; &amp;itkOutputImage)
<span style = "background-color:#fdd">  {</span>
    typedef itkImageRGBUC2 ItkOutputImageType;
<span style = "background-color:#fdd">    AccessFixedTypeByItk_1(mitkImage,</span>
                           _CastToItkImage2Access,
                           (itk::RGBPixel&lt;unsigned char&gt;),
                           (ItkOutputImageType::ImageDimension),
                           itkOutputImage);
<span style = "background-color:#fdd">  }</span>
  template &lt;&gt;
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage, itk::SmartPointer&lt;itkImageDTIF2&gt; &amp;itkOutputImage)
<span style = "background-color:#fdd">  {</span>
    typedef itkImageDTIF2 ItkOutputImageType;
<span style = "background-color:#fdd">    AccessFixedTypeByItk_1(mitkImage,</span>
                           _CastToItkImage2Access,
                           (itk::DiffusionTensor3D&lt;float&gt;),
                           (ItkOutputImageType::ImageDimension),
                           itkOutputImage);
<span style = "background-color:#fdd">  }</span>
  template &lt;&gt;
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage, itk::SmartPointer&lt;itkImageDTID2&gt; &amp;itkOutputImage)
<span style = "background-color:#fdd">  {</span>
    typedef itkImageDTID2 ItkOutputImageType;
<span style = "background-color:#fdd">    AccessFixedTypeByItk_1(mitkImage,</span>
                           _CastToItkImage2Access,
                           (itk::DiffusionTensor3D&lt;double&gt;),
                           (ItkOutputImageType::ImageDimension),
                           itkOutputImage);
<span style = "background-color:#fdd">  }</span>

  typedef itk::Image&lt;itk::RGBPixel&lt;unsigned char&gt;, 3&gt; itkImageRGBUC3;
  typedef itk::Image&lt;itk::DiffusionTensor3D&lt;float&gt;, 3&gt; itkImageDTIF3;
  typedef itk::Image&lt;itk::DiffusionTensor3D&lt;double&gt;, 3&gt; itkImageDTID3;

  template &lt;&gt;
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage, itk::SmartPointer&lt;itkImageRGBUC3&gt; &amp;itkOutputImage)
<span style = "background-color:#fdd">  {</span>
    typedef itkImageRGBUC3 ItkOutputImageType;
<span style = "background-color:#fdd">    AccessFixedTypeByItk_1(mitkImage,</span>
                           _CastToItkImage2Access,
                           (itk::RGBPixel&lt;unsigned char&gt;),
                           (ItkOutputImageType::ImageDimension),
                           itkOutputImage);
<span style = "background-color:#fdd">  }</span>
  template &lt;&gt;
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage, itk::SmartPointer&lt;itkImageDTIF3&gt; &amp;itkOutputImage)
<span style = "background-color:#fdd">  {</span>
    typedef itkImageDTIF3 ItkOutputImageType;
<span style = "background-color:#fdd">    AccessFixedTypeByItk_1(mitkImage,</span>
                           _CastToItkImage2Access,
                           (itk::DiffusionTensor3D&lt;float&gt;),
                           (ItkOutputImageType::ImageDimension),
                           itkOutputImage);
<span style = "background-color:#fdd">  }</span>
  template &lt;&gt;
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage, itk::SmartPointer&lt;itkImageDTID3&gt; &amp;itkOutputImage)
<span style = "background-color:#fdd">  {</span>
    typedef itkImageDTID3 ItkOutputImageType;
<span style = "background-color:#fdd">    AccessFixedTypeByItk_1(mitkImage,</span>
                           _CastToItkImage2Access,
                           (itk::DiffusionTensor3D&lt;double&gt;),
                           (ItkOutputImageType::ImageDimension),
                           itkOutputImage);
<span style = "background-color:#fdd">  }</span>

#define TYPE_VECS(HUN)                                                                                                 \
  TYPE_TEN_VECS(HUN)                                                                                                   \
  TYPE_TEN_VECS(HUN + 10)                                                                                              \
  TYPE_TEN_VECS(HUN + 20)                                                                                              \
  TYPE_TEN_VECS(HUN + 30)                                                                                              \
  TYPE_TEN_VECS(HUN + 40)                                                                                              \
  TYPE_TEN_VECS(HUN + 50)                                                                                              \
  TYPE_TEN_VECS(HUN + 60)                                                                                              \
  TYPE_TEN_VECS(HUN + 70)                                                                                              \
  TYPE_TEN_VECS(HUN + 80)                                                                                              \
  TYPE_TEN_VECS(HUN + 90)

#define TYPE_TEN_VECS(HUN)                                                                                             \
  TYPE_N_VEC(HUN + 1)                                                                                                  \
  TYPE_N_VEC(HUN + 2)                                                                                                  \
  TYPE_N_VEC(HUN + 3)                                                                                                  \
  TYPE_N_VEC(HUN + 4)                                                                                                  \
  TYPE_N_VEC(HUN + 5)                                                                                                  \
  TYPE_N_VEC(HUN + 6)                                                                                                  \
  TYPE_N_VEC(HUN + 7)                                                                                                  \
  TYPE_N_VEC(HUN + 8)                                                                                                  \
  TYPE_N_VEC(HUN + 9)                                                                                                  \
  TYPE_N_VEC(HUN + 10)

#define TYPE_N_VEC(N_DIRS)                                                                                             \
  _TYPE_N_VEC(N_DIRS, double)                                                                                          \
  _TYPE_N_VEC(N_DIRS, float)                                                                                           \
  _TYPE_N_VEC(N_DIRS, short)

#define _TYPE_N_VEC(N_DIRS, PIXTYPE)                                                                                   \
  template &lt;&gt;                                                                                                          \
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage,                                                    \
                                      itk::SmartPointer&lt;itk::Image&lt;itk::Vector&lt;PIXTYPE, N_DIRS&gt;, 2&gt;&gt; &amp;itkOutputImage)  \
                                                                                                                       \
  {                                                                                                                    \
    typedef itk::Vector&lt;PIXTYPE, N_DIRS&gt; VECTORTYPE;                                                                   \
    typedef itk::Image&lt;VECTORTYPE, 2&gt; ItkOutputImageType2;                                                             \
    AccessFixedTypeByItk_1(                                                                                            \
      mitkImage, _CastToItkImage2Access, (VECTORTYPE), (ItkOutputImageType2::ImageDimension), itkOutputImage);         \
  }                                                                                                                    \
  template &lt;&gt;                                                                                                          \
  void MITKCORE_EXPORT CastToItkImage(const mitk::Image *mitkImage,                                                    \
                                      itk::SmartPointer&lt;itk::Image&lt;itk::Vector&lt;PIXTYPE, N_DIRS&gt;, 3&gt;&gt; &amp;itkOutputImage)  \
                                                                                                                       \
  {                                                                                                                    \
    typedef itk::Vector&lt;PIXTYPE, N_DIRS&gt; VECTORTYPE;                                                                   \
    typedef itk::Image&lt;VECTORTYPE, 3&gt; ItkOutputImageType3;                                                             \
    AccessFixedTypeByItk_1(                                                                                            \
      mitkImage, _CastToItkImage2Access, (VECTORTYPE), (ItkOutputImageType3::ImageDimension), itkOutputImage);         \
  }

  // the following lines allow for fixed-size vector images up to a certain size limit
  // (commented out for shorter compile times)

  // TYPE_VECS(000)
  // TYPE_VECS(100)
  // TYPE_VECS(200)
  // TYPE_VECS(300)
  // TYPE_VECS(400)
  // TYPE_VECS(500)
  // TYPE_VECS(600)
  // TYPE_VECS(700)

  // allow for fixed-size vectors of specific length
  // (inspired by itkPointshell.cpp, precompiled ODF configs)
  // TYPE_TEN_VECS(0)
  // TYPE_N_VEC(11)
  // TYPE_N_VEC(12)
<span style = "background-color:#fdd">  TYPE_N_VEC(2)
  TYPE_N_VEC(3)
  TYPE_N_VEC(6)
  TYPE_N_VEC(15)
  TYPE_N_VEC(28)
  TYPE_N_VEC(42)
  TYPE_N_VEC(45)
  TYPE_N_VEC(66)
  TYPE_N_VEC(91)
  TYPE_N_VEC(92)
  TYPE_N_VEC(162)
  TYPE_N_VEC(252)
  TYPE_N_VEC(362)
  TYPE_N_VEC(492)
  TYPE_N_VEC(642)
  TYPE_N_VEC(812)
  TYPE_N_VEC(1002)</span>

#ifndef DOXYGEN_SKIP

#endif // DOXYGEN_SKIP
}</pre>
	</body>
</html>