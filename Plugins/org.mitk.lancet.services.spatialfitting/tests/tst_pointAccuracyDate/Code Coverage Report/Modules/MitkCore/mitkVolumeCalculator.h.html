<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkVolumeCalculator.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#ifndef VOLUME_CALCULATOR_H_HEADER_INCLUDED
#define VOLUME_CALCULATOR_H_HEADER_INCLUDED

#include "itkImage.h"
#include "itkObject.h"
#include "itkObjectFactory.h"

#include "mitkImage.h"
#include "mitkImageTimeSelector.h"
#include &lt;MitkCoreExports.h&gt;

namespace mitk
{
  /**
   * @brief Calculates the volume of a mitk::Image.
   * The given volume is in milliliters or as a voxel count.
   * Voxels are counted if their gray value is above a threshold (see SetThreshold), the default threshold is 0.
   *
   * The filter works for 2D, 3D and 3D+t. In the 3D+t case a vector of volumes is provided (see GetVolumes()).
   */
  class MITKCORE_EXPORT VolumeCalculator : public itk::Object
  {
  public:
<span style = "background-color:#fdd">    mitkClassMacroItkParent(VolumeCalculator, itk::Object);</span>

<span style = "background-color:#fdd">    itkFactorylessNewMacro(Self);</span>

<span style = "background-color:#fdd">    itkCloneMacro(Self);</span>

<span style = "background-color:#fdd">    itkSetObjectMacro(Image, Image);</span>
    /**
    * Sets threshold, all voxels that are equal or greater are accepted.
    */
<span style = "background-color:#fdd">    itkSetMacro(Threshold, int);</span>
    /**
    * In case of a 2D image this returns the calculated volume in square cm, in case of 3D images the result is given
    * in cubic cm. For 4D data refer to the GetVolumes() function.
    * @see GetVolumes()
    */
<span style = "background-color:#fdd">    itkGetMacro(Volume, float);</span>
    /**
    * Returns the number of accepted voxels.
    */
<span style = "background-color:#fdd">    itkGetMacro(VoxelCount, unsigned long int);</span>
    /**
    * Returns the volume for 4D images, as a vector where each volume is represented by an item in the vector (in cubic
    cm).
    \note Also for 2D+t images the result will be returned in cubic cm.
    */
    std::vector&lt;float&gt; GetVolumes();
    void ComputeVolume();

    void ComputeVolumeFromImageStatistics();
    static float ComputeVolume(Vector3D spacing, unsigned int voxelCount);

  protected:
    VolumeCalculator();
    ~VolumeCalculator() override;

    template &lt;typename TPixel, unsigned int VImageDimension&gt;
    void InternalCompute(const itk::Image&lt;TPixel, VImageDimension&gt; *itkImage);

    Image::ConstPointer m_Image;
    int m_Threshold;
    float m_Volume;
    unsigned long int m_VoxelCount;
    std::vector&lt;float&gt; m_Volumes;
    ImageTimeSelector::Pointer m_TimeSelector;
  };

} // namespace mitk

#endif /* VOLUME_CALCULATOR_H_HEADER_INCLUDED */</pre>
	</body>
</html>