<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkMimeType.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkMimeType.h"

#include "mitkCustomMimeType.h"

#include &lt;memory&gt;

namespace mitk
{
  struct MimeType::Impl : us::SharedData
  {
<span style = "background-color:#dfd">    Impl() : m_CustomMimeType(new CustomMimeType()), m_Rank(-1), m_Id(-1) {}
    Impl(const CustomMimeType &amp;x, int rank, long id) : m_CustomMimeType(x.Clone()), m_Rank(rank), m_Id(id) {}</span>
    std::unique_ptr&lt;CustomMimeType&gt; m_CustomMimeType;

    int m_Rank;
    long m_Id;
  };

<span style = "background-color:#dfd">  MimeType::MimeType() : m_Data(new Impl) {}
  MimeType::MimeType(const MimeType &amp;other) : m_Data(other.m_Data) {}
  MimeType::MimeType(const CustomMimeType &amp;x, int rank, long id) : m_Data(new Impl(x, rank, id)) {}
  MimeType::~MimeType() {}</span>
  MimeType &amp;MimeType::operator=(const MimeType &amp;other)
<span style = "background-color:#dfd">  {
    m_Data = other.m_Data;
    return *this;
  }</span>

<span style = "background-color:#fdd">  bool MimeType::operator==(const MimeType &amp;other) const { return this-&gt;GetName() == other.GetName(); }</span>
  bool MimeType::operator&lt;(const MimeType &amp;other) const
<span style = "background-color:#dfd">  {
    if (m_Data-&gt;m_Rank != other.m_Data-&gt;m_Rank)</span>
    {
<span style = "background-color:#dfd">      return m_Data-&gt;m_Rank &lt; other.m_Data-&gt;m_Rank;</span>
    }
<span style = "background-color:#dfd">    return other.m_Data-&gt;m_Id &lt; m_Data-&gt;m_Id;
  }</span>

<span style = "background-color:#dfd">  std::string MimeType::GetName() const { return m_Data-&gt;m_CustomMimeType-&gt;GetName(); }</span>
<span style = "background-color:#fdd">  std::string MimeType::GetCategory() const { return m_Data-&gt;m_CustomMimeType-&gt;GetCategory(); }
  std::vector&lt;std::string&gt; MimeType::GetExtensions() const { return m_Data-&gt;m_CustomMimeType-&gt;GetExtensions(); }
  std::string MimeType::GetComment() const { return m_Data-&gt;m_CustomMimeType-&gt;GetComment(); }</span>
  std::string MimeType::GetFilenameWithoutExtension(const std::string &amp;path) const
<span style = "background-color:#fdd">  {
    return m_Data-&gt;m_CustomMimeType-&gt;GetFilenameWithoutExtension(path);
  }</span>

<span style = "background-color:#fdd">  bool MimeType::AppliesTo(const std::string &amp;path) const { return m_Data-&gt;m_CustomMimeType-&gt;AppliesTo(path); }</span>
  bool MimeType::MatchesExtension(const std::string &amp;path) const
<span style = "background-color:#fdd">  {
    return m_Data-&gt;m_CustomMimeType-&gt;MatchesExtension(path);
  }</span>

  bool MimeType::IsValid() const
<span style = "background-color:#dfd">  {
    return m_Data.Data() != nullptr &amp;&amp; m_Data-&gt;m_CustomMimeType.get() != nullptr &amp;&amp;</span>
           !m_Data-&gt;m_CustomMimeType-&gt;GetName().empty();
<span style = "background-color:#dfd">  }</span>

<span style = "background-color:#fdd">  void MimeType::Swap(MimeType &amp;m) { m_Data.Swap(m.m_Data); }
  void swap(MimeType &amp;m1, MimeType &amp;m2) { m1.Swap(m2); }</span>
  std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os, const MimeType &amp;mimeType)
<span style = "background-color:#fdd">  {
    os &lt;&lt; mimeType.GetName() &lt;&lt; " (" &lt;&lt; mimeType.GetCategory() &lt;&lt; ", " &lt;&lt; mimeType.GetComment() &lt;&lt; ") ";
    std::vector&lt;std::string&gt; extensions = mimeType.GetExtensions();
    for (std::vector&lt;std::string&gt;::const_iterator iter = extensions.begin(), endIter = extensions.end();
         iter != endIter;
         ++iter)</span>
    {
<span style = "background-color:#fdd">      if (iter != extensions.begin())
        os &lt;&lt; ", ";
      os &lt;&lt; *iter;
    }
    return os;
  }</span>
}</pre>
	</body>
</html>