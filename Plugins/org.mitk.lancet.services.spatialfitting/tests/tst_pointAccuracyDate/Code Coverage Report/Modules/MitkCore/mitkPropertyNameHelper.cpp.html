<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkPropertyNameHelper.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkPropertyNameHelper.h"
#include &lt;iomanip&gt;
#include &lt;mitkPropertyList.h&gt;
#include &lt;sstream&gt;

std::string mitk::GeneratePropertyNameForDICOMTag(unsigned int group, unsigned int element)
<span style = "background-color:#fdd">{
  std::ostringstream nameStream;
  nameStream &lt;&lt; "DICOM."</span>
    &lt;&lt; std::setw(4) &lt;&lt; std::setfill('0') &lt;&lt; std::hex &lt;&lt; std::uppercase &lt;&lt; group &lt;&lt; std::nouppercase &lt;&lt; "."
    &lt;&lt; std::setw(4) &lt;&lt; std::setfill('0') &lt;&lt; std::hex &lt;&lt; std::uppercase &lt;&lt; element;

<span style = "background-color:#fdd">  return nameStream.str();
};</span>

bool mitk::GetBackwardsCompatibleDICOMProperty(unsigned int group,
                                               unsigned int element,
                                               std::string const &amp;backwardsCompatiblePropertyName,
                                               mitk::PropertyList const *propertyList,
                                               std::string &amp;propertyValue)
<span style = "background-color:#fdd">{
  propertyValue = "";</span>

<span style = "background-color:#fdd">  BaseProperty *prop = propertyList-&gt;GetProperty(mitk::GeneratePropertyNameForDICOMTag(group, element).c_str());</span>

<span style = "background-color:#fdd">  if (prop)</span>
  { // may not be a string property so use the generic access.
<span style = "background-color:#fdd">    propertyValue = prop-&gt;GetValueAsString();</span>
  }

<span style = "background-color:#fdd">  if (!propertyValue.empty() || propertyList-&gt;GetStringProperty(backwardsCompatiblePropertyName.c_str(), propertyValue))</span>
  // 2nd part is for backwards compatibility with the old property naming style
  {
<span style = "background-color:#fdd">    return true;</span>
  }

<span style = "background-color:#fdd">  return false;
};</span></pre>
	</body>
</html>