<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkConvert2Dto3DImageFilter.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkConvert2Dto3DImageFilter.h"
#include "mitkImageAccessByItk.h"
#include "mitkImageCast.h"

mitk::Convert2Dto3DImageFilter::Convert2Dto3DImageFilter()
<span style = "background-color:#fdd">{
}</span>

mitk::Convert2Dto3DImageFilter::~Convert2Dto3DImageFilter()
<span style = "background-color:#fdd">{
}</span>

void mitk::Convert2Dto3DImageFilter::GenerateData()
<span style = "background-color:#fdd">{
  mitk::Image::ConstPointer inputImage = this-&gt;GetInput();
  mitk::Image::Pointer resultImage = this-&gt;GetOutput();</span>

<span style = "background-color:#fdd">  AccessFixedDimensionByItk_1(inputImage, ItkConvert2DTo3D, 2, resultImage);</span>

<span style = "background-color:#fdd">  resultImage-&gt;SetGeometry(inputImage-&gt;GetGeometry());
}</span>

template &lt;typename TPixel, unsigned int VImageDimension&gt;
void mitk::Convert2Dto3DImageFilter::ItkConvert2DTo3D(const itk::Image&lt;TPixel, VImageDimension&gt; *itkImage,
                                                      mitk::Image::Pointer &amp;mitkImage)
<span style = "background-color:#fdd">{</span>
  typedef itk::Image&lt;TPixel, 3&gt; itkImageType3D;
  typedef typename itkImageType3D::SizeType::SizeValueType sizeValType;

  // Create a new ITK image
<span style = "background-color:#fdd">  typename itkImageType3D::Pointer outputImage = itkImageType3D::New();
  typename itkImageType3D::RegionType myRegion;</span>
  typename itkImageType3D::SizeType mySize;
  typename itkImageType3D::IndexType myIndex;
  typename itkImageType3D::SpacingType mySpacing;
<span style = "background-color:#fdd">  mySpacing[0] = itkImage-&gt;GetSpacing()[0];
  mySpacing[1] = itkImage-&gt;GetSpacing()[1];
  mySpacing[2] = 1;
  myIndex[0] = 0;
  myIndex[1] = 0;
  myIndex[2] = 0;
  mySize[0] = itkImage-&gt;GetLargestPossibleRegion().GetSize()[0];
  mySize[1] = itkImage-&gt;GetLargestPossibleRegion().GetSize()[1];
  mySize[2] = 1;
  myRegion.SetSize(mySize);
  myRegion.SetIndex(myIndex);
  outputImage-&gt;SetSpacing(mySpacing);
  outputImage-&gt;SetRegions(myRegion);
  outputImage-&gt;Allocate();</span>

  // Copy Values:
<span style = "background-color:#fdd">  for (sizeValType x = 0; x &lt; mySize[0]; x++)</span>
  {
<span style = "background-color:#fdd">    for (sizeValType y = 0; y &lt; mySize[1]; y++)</span>
    {
      itk::Index&lt;2&gt; index2D;
<span style = "background-color:#fdd">      index2D[0] = x;
      index2D[1] = y;</span>

      itk::Index&lt;3&gt; index3D;
<span style = "background-color:#fdd">      index3D[0] = x;
      index3D[1] = y;
      index3D[2] = 0;</span>

<span style = "background-color:#fdd">      outputImage-&gt;SetPixel(index3D, itkImage-&gt;GetPixel(index2D));
    }
  }</span>

<span style = "background-color:#fdd">  mitk::CastToMitkImage(outputImage, mitkImage);
}</span></pre>
	</body>
</html>