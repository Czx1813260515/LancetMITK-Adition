<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkGradientBackground.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include "mitkGradientBackground.h"
#include "mitkVtkLayerController.h"

#include &lt;vtkRenderWindow.h&gt;
#include &lt;vtkRenderer.h&gt;

mitk::GradientBackground::GradientBackground()
<span style = "background-color:#fdd">{
  m_RenderWindow = nullptr;
  m_Renderer = vtkSmartPointer&lt;vtkRenderer&gt;::New();
  m_Renderer-&gt;InteractiveOff();
}</span>

mitk::GradientBackground::~GradientBackground()
<span style = "background-color:#fdd">{
  if (m_RenderWindow != nullptr)
    if (this-&gt;IsEnabled())
      this-&gt;Disable();
}</span>

/**
 * Sets the renderwindow, in which the gradient background
 * will be shown. Make sure, you have called this function
 * before calling Enable()
 */
void mitk::GradientBackground::SetRenderWindow(vtkSmartPointer&lt;vtkRenderWindow&gt; renderWindow)
<span style = "background-color:#fdd">{
  m_RenderWindow = renderWindow;
}</span>

/**
 * Returns the vtkRenderWindow, which is used
 * for displaying the gradient background
 */
vtkSmartPointer&lt;vtkRenderWindow&gt; mitk::GradientBackground::GetRenderWindow()
<span style = "background-color:#fdd">{
  return m_RenderWindow;
}</span>

/**
 * Returns the renderer responsible for
 * rendering the color gradient into the
 * vtkRenderWindow
 */
vtkSmartPointer&lt;vtkRenderer&gt; mitk::GradientBackground::GetVtkRenderer()
<span style = "background-color:#fdd">{
  return m_Renderer;
}</span>

/**
 * Sets the gradient colors. The gradient
 * will smoothly fade from color1 to color2
 */
void mitk::GradientBackground::SetGradientColors(double r1, double g1, double b1, double r2, double g2, double b2)
<span style = "background-color:#fdd">{
  this-&gt;SetLowerColor(r1, g1, b1);
  this-&gt;SetUpperColor(r2, g2, b2);
}</span>

void mitk::GradientBackground::SetGradientColors(mitk::Color upper, mitk::Color lower)
<span style = "background-color:#fdd">{
  this-&gt;SetGradientColors(upper[0], upper[1], upper[2], lower[0], lower[1], lower[2]);
}</span>

void mitk::GradientBackground::SetUpperColor(double r, double g, double b)
<span style = "background-color:#fdd">{
  m_Renderer-&gt;SetBackground(r, g, b);
}</span>

void mitk::GradientBackground::SetLowerColor(double r, double g, double b)
<span style = "background-color:#fdd">{
  m_Renderer-&gt;SetBackground2(r, g, b);
}</span>

void mitk::GradientBackground::SetUpperColor(mitk::Color upper)
<span style = "background-color:#fdd">{
  this-&gt;SetUpperColor(upper[0], upper[1], upper[2]);
}</span>

void mitk::GradientBackground::SetLowerColor(mitk::Color lower)
<span style = "background-color:#fdd">{
  this-&gt;SetLowerColor(lower[0], lower[1], lower[2]);
}</span>

/**
 * Enables drawing of the color gradient background.
 * If you want to disable it, call the Disable() function.
 */
void mitk::GradientBackground::Enable()
<span style = "background-color:#fdd">{
  m_Renderer-&gt;GradientBackgroundOn();
  mitk::VtkLayerController::GetInstance(m_RenderWindow)-&gt;InsertBackgroundRenderer(m_Renderer, true);
}</span>

/**
 * Disables drawing of the color gradient background.
 * If you want to enable it, call the Enable() function.
 */
void mitk::GradientBackground::Disable()
<span style = "background-color:#fdd">{
  if (this-&gt;IsEnabled())</span>
  {
<span style = "background-color:#fdd">    m_Renderer-&gt;GradientBackgroundOff();
    mitk::VtkLayerController::GetInstance(m_RenderWindow)-&gt;RemoveRenderer(m_Renderer);</span>
  }
<span style = "background-color:#fdd">}</span>

/**
 * Checks, if the gradient background is currently
 * enabled (visible)
 */
bool mitk::GradientBackground::IsEnabled()
<span style = "background-color:#fdd">{
  if (m_RenderWindow == nullptr)
    return false;</span>
  else
<span style = "background-color:#fdd">    return (mitk::VtkLayerController::GetInstance(m_RenderWindow)-&gt;IsRendererInserted(m_Renderer));
}</span></pre>
	</body>
</html>