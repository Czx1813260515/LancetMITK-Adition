<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>mitkSurfaceVtkWriter.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
/*============================================================================

The Medical Imaging Interaction Toolkit (MITK)

Copyright (c) German Cancer Research Center (DKFZ)
All rights reserved.

Use of this source code is governed by a 3-clause BSD license that can be
found in the LICENSE file.

============================================================================*/

#include &lt;vtkErrorCode.h&gt;

#include "mitkSurfaceVtkWriter.h"
#include "mitkSurfaceVtkWriter.txx"

namespace mitk
{
  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkSTLWriter&gt;::SetDefaultExtension()
<span style = "background-color:#fdd">  {
    m_Extension = ".stl";
    m_WriterWriteHasReturnValue = false;
  }</span>

  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::SetDefaultExtension()
<span style = "background-color:#fdd">  {
    m_Extension = ".vtk";
    m_WriterWriteHasReturnValue = false;
  }</span>

  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::SetDefaultExtension()
<span style = "background-color:#fdd">  {
    m_Extension = ".vtp";
    m_WriterWriteHasReturnValue = true;
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkSTLWriter&gt;::GetDefaultFilename()
<span style = "background-color:#fdd">  {
    return "surface";
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkSTLWriter&gt;::GetFileDialogPattern()
<span style = "background-color:#fdd">  {
    return "STL Surface (*.stl)";
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkSTLWriter&gt;::GetDefaultExtension()
<span style = "background-color:#fdd">  {
    return ".stl";
  }</span>

  template &lt;&gt;
  bool SurfaceVtkWriter&lt;vtkSTLWriter&gt;::CanWriteBaseDataType(BaseData::Pointer data)
<span style = "background-color:#fdd">  {
    return dynamic_cast&lt;mitk::Surface *&gt;(data.GetPointer()) != nullptr;
  }</span>

  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkSTLWriter&gt;::DoWrite(BaseData::Pointer data)
<span style = "background-color:#fdd">  {
    if (this-&gt;CanWriteBaseDataType(data))</span>
    {
<span style = "background-color:#fdd">      this-&gt;SetInput(data.GetPointer());
      this-&gt;Update();</span>
    }
<span style = "background-color:#fdd">  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::GetDefaultFilename()
<span style = "background-color:#fdd">  {
    return "surface";
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::GetFileDialogPattern()
<span style = "background-color:#fdd">  {
    return "VTK Polydata (*.vtk)";
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::GetDefaultExtension()
<span style = "background-color:#fdd">  {
    return ".vtk";
  }</span>

  template &lt;&gt;
  bool SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::CanWriteBaseDataType(BaseData::Pointer data)
<span style = "background-color:#fdd">  {
    return dynamic_cast&lt;mitk::Surface *&gt;(data.GetPointer()) != nullptr;
  }</span>

  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::DoWrite(BaseData::Pointer data)
<span style = "background-color:#fdd">  {
    if (this-&gt;CanWriteBaseDataType(data))</span>
    {
<span style = "background-color:#fdd">      this-&gt;SetInput(data.GetPointer());
      this-&gt;Update();</span>
    }
<span style = "background-color:#fdd">  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::GetDefaultFilename()
<span style = "background-color:#fdd">  {
    return "surface";
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::GetFileDialogPattern()
<span style = "background-color:#fdd">  {
    return "VTK XML Polydata (*.vtp)";
  }</span>

  template &lt;&gt;
  const char *SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::GetDefaultExtension()
<span style = "background-color:#fdd">  {
    return ".vtp";
  }</span>

  template &lt;&gt;
  bool SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::CanWriteBaseDataType(BaseData::Pointer data)
<span style = "background-color:#fdd">  {
    return dynamic_cast&lt;mitk::Surface *&gt;(data.GetPointer()) != nullptr;
  }</span>

  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::DoWrite(BaseData::Pointer data)
<span style = "background-color:#fdd">  {
    if (this-&gt;CanWriteBaseDataType(data))</span>
    {
<span style = "background-color:#fdd">      this-&gt;SetInput(data.GetPointer());
      this-&gt;Update();</span>
    }
<span style = "background-color:#fdd">  }</span>

  template &lt;&gt;
  void SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::ExecuteWrite(VtkWriterType *vtkWriter)
<span style = "background-color:#fdd">  {
    if (vtkWriter-&gt;Write() == 0 || vtkWriter-&gt;GetErrorCode() != 0)</span>
    {
<span style = "background-color:#fdd">      itkExceptionMacro(&lt;&lt; "Error during surface writing: "</span>
                        &lt;&lt; vtkErrorCode::GetStringFromErrorCode(vtkWriter-&gt;GetErrorCode()));
    }
<span style = "background-color:#fdd">  }</span>

  template &lt;&gt;
  std::vector&lt;std::string&gt; SurfaceVtkWriter&lt;vtkSTLWriter&gt;::GetPossibleFileExtensions()
<span style = "background-color:#fdd">  {
    std::vector&lt;std::string&gt; possibleFileExtensions;
    possibleFileExtensions.push_back(".stl");
    possibleFileExtensions.push_back(".obj");
    return possibleFileExtensions;
  }</span>

  template &lt;&gt;
  std::vector&lt;std::string&gt; SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;::GetPossibleFileExtensions()
<span style = "background-color:#fdd">  {
    std::vector&lt;std::string&gt; possibleFileExtensions;
    possibleFileExtensions.push_back(".vtk");
    possibleFileExtensions.push_back(".obj");
    return possibleFileExtensions;
  }</span>

  template &lt;&gt;
  std::vector&lt;std::string&gt; SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;::GetPossibleFileExtensions()
<span style = "background-color:#fdd">  {
    std::vector&lt;std::string&gt; possibleFileExtensions;
    possibleFileExtensions.push_back(".vtp");
    possibleFileExtensions.push_back(".obj");
    return possibleFileExtensions;
  }</span>

  template class SurfaceVtkWriter&lt;vtkSTLWriter&gt;;
  template class SurfaceVtkWriter&lt;vtkPolyDataWriter&gt;;
  template class SurfaceVtkWriter&lt;vtkXMLPolyDataWriter&gt;;
}</pre>
	</body>
</html>